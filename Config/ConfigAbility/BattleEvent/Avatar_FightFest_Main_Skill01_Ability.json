{
  "AbilityList": [
    {
      "Name": "Avatar_FightFest_Main_Skill01_Phase01",
      "TargetInfo": {
        "TargetType": "AllLightTeamMember"
      },
      "OnStart": [
        {
          "$type": "RPG.GameCore.TriggerAbility",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "Caster"
          },
          "AbilityName": "Avatar_FightFest_Main_Skill01_Phase02",
          "IsSkillPerform": true
        }
      ]
    },
    {
      "Modifiers": {
        "MAvatar_FightFest_Main_Skill01_UltraAction1": {
          "ModifierAffectedPreshowConfig": {
            "SkillTypes": [
              "Ultra"
            ],
            "TargetType": {
              "$type": "RPG.GameCore.TargetAlias",
              "Alias": "ModifierOwnerEntity"
            },
            "ActionDelayPreshowConfig": {
              "AddDelayRatio": {
                "IsDynamic": true,
                "PostfixExpr": {
                  "OpCodes": "AAAHAQAECg==",
                  "FixedValues": [
                    {
                      "Value": 1
                    }
                  ],
                  "DynamicHashes": [
                    909827945
                  ]
                }
              }
            }
          },
          "_CallbackList": [
            {
              "Event": "OnAfterSkillUse",
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.PredicateTaskList",
                  "Predicate": {
                    "$type": "RPG.GameCore.ByCurrentSkillType",
                    "SkillType": "Ultra"
                  },
                  "SuccessTaskList": [
                    {
                      "$type": "RPG.GameCore.ModifyActionDelay",
                      "TargetType": {
                        "$type": "RPG.GameCore.TargetAlias",
                        "Alias": "ModifierOwnerEntity"
                      },
                      "AddNormalizedValue": {
                        "IsDynamic": true,
                        "PostfixExpr": {
                          "OpCodes": "AAAHAQAECg==",
                          "FixedValues": [
                            {
                              "Value": 1
                            }
                          ],
                          "DynamicHashes": [
                            909827945
                          ]
                        }
                      }
                    },
                    {
                      "$type": "RPG.GameCore.RemoveSelfModifier"
                    }
                  ]
                }
              ]
            }
          ]
        },
        "MAvatar_FightFest_Main_Skill01_UltraAction2": {
          "_CallbackList": [
            {
              "Event": "OnStack",
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.StackProperty",
                  "TargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "ModifierOwnerEntity"
                  },
                  "Property": "StanceBreakAddedRatio",
                  "PropertyValue": {
                    "IsDynamic": true,
                    "PostfixExpr": {
                      "OpCodes": "AQAK",
                      "FixedValues": [],
                      "DynamicHashes": [
                        909827948
                      ]
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      "Name": "Avatar_FightFest_Main_Skill01_Phase02",
      "TargetInfo": {
        "TargetType": "AllLightTeamMember"
      },
      "OnStart": [
        {
          "$type": "RPG.GameCore.TriggerAbility",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "Caster"
          },
          "AbilityInherentTargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "AllLightTeam"
          },
          "AbilityName": "StageAbility_670860_Camera",
          "IsSkillPerform": true
        },
        {
          "$type": "RPG.GameCore.PredicateTaskList",
          "Predicate": {
            "$type": "RPG.GameCore.ByHeroGender",
            "Gender": "GENDER_WOMAN"
          },
          "SuccessTaskList": [
            {
              "$type": "RPG.GameCore.FightFestShowCutIn",
              "PrefabPath": "UI/Battle/UltraSkillCutIn/FightFest/FightFestCutin_8006.prefab",
              "Duration": 1,
              "IsOverrideDesc": true,
              "TargetDesc": {
                "Hash": -1477668321
              }
            }
          ],
          "FailedTaskList": [
            {
              "$type": "RPG.GameCore.FightFestShowCutIn",
              "PrefabPath": "UI/Battle/UltraSkillCutIn/FightFest/FightFestCutin_8005.prefab",
              "Duration": 1,
              "IsOverrideDesc": true,
              "TargetDesc": {
                "Hash": -1477668321
              }
            }
          ]
        },
        {
          "$type": "RPG.GameCore.TriggerEffect",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "AllTeamCenter"
          },
          "EffectPath": "Effects/Eff_Prefab/Eff_ActivityProp/Eff_FightFest/Eff_FightFest_Fever_Ally_Camera_SpeedLine_01.prefab"
        },
        {
          "$type": "RPG.GameCore.WaitSecond",
          "WaitTime": {
            "IsDynamic": false,
            "FixedValue": {
              "Value": 1.5
            }
          }
        },
        {
          "$type": "RPG.GameCore.TriggerEffect",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "AllTeamCenter"
          },
          "EffectPath": "Effects/Eff_Prefab/Eff_ActivityProp/Eff_FightFest/Eff_FightFest_TacticSkill_Support.prefab"
        },
        {
          "$type": "RPG.GameCore.WaitSecond",
          "WaitTime": {
            "IsDynamic": false,
            "FixedValue": {
              "Value": 0.1
            }
          }
        },
        {
          "$type": "RPG.GameCore.TriggerEffect",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "AllLightTeam"
          },
          "EffectPath": "Effects/Eff_Prefab/Eff_Common/Eff_Buff_Common_Speedup.prefab"
        },
        {
          "$type": "RPG.GameCore.AddModifier",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "AllLightTeam"
          },
          "ModifierName": "MAvatar_FightFest_Main_Skill01_UltraAction1"
        },
        {
          "$type": "RPG.GameCore.AddModifier",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "AllLightTeam"
          },
          "ModifierName": "MAvatar_FightFest_Main_Skill01_UltraAction2",
          "LifeTime": {
            "IsDynamic": true,
            "PostfixExpr": {
              "OpCodes": "AQAK",
              "FixedValues": [],
              "DynamicHashes": [
                909827942
              ]
            }
          }
        },
        {
          "$type": "RPG.GameCore.WaitSecond",
          "WaitTime": {
            "IsDynamic": false,
            "FixedValue": {
              "Value": 1
            }
          }
        },
        {
          "$type": "RPG.GameCore.ShowUIPage",
          "AssetPath": "UI/Common/Widget/BattleSelfStatusHint.prefab",
          "UITextNodes": [
            {
              "TextPath": "AreaInfoPanel/Title/Text",
              "TextContent": {
                "Hash": -1716982905
              }
            }
          ],
          "LifeTime": 2
        },
        {
          "$type": "RPG.GameCore.SkillPerformFinish"
        }
      ]
    },
    {
      "Modifiers": {
        "MAvatar_FightFest_Main_Skill01_PassiveAbility": {
          "BehaviorFlagList": [
            "BlockDamage",
            "Stealth"
          ],
          "_CallbackList": [
            {
              "Event": "OnCreate",
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.SetEntityUnselectable",
                  "TargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "ModifierOwnerEntity"
                  },
                  "Unselectable": true
                }
              ]
            },
            {
              "Event": "OnModifierAdd",
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.DispelStatus",
                  "TargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "ModifierOwnerEntity"
                  },
                  "BuffType": "Buff"
                },
                {
                  "$type": "RPG.GameCore.DispelStatus",
                  "TargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "ModifierOwnerEntity"
                  }
                },
                {
                  "$type": "RPG.GameCore.DispelStatus",
                  "TargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "ModifierOwnerEntity"
                  },
                  "BuffType": "Other"
                }
              ]
            }
          ]
        },
        "MAvatar_FightFest_Main_Skill01_Charge": {
          "_CallbackList": [
            {
              "Event": "OnCreate",
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.AddModifier",
                  "TargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "AllLightTeam"
                  },
                  "ModifierName": "MAvatar_FightFest_Main_Skill01_Charge_Sub"
                },
                {
                  "$type": "RPG.GameCore.AddModifier",
                  "TargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "AllDarkTeam"
                  },
                  "ModifierName": "MAvatar_FightFest_Main_Skill01_Charge_Sub"
                }
              ]
            },
            {
              "Event": "OnListenCharacterCreate",
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.PredicateTaskList",
                  "Predicate": {
                    "$type": "RPG.GameCore.ByAny",
                    "PredicateList": [
                      {
                        "$type": "RPG.GameCore.ByTargetTeam",
                        "TargetType": {
                          "$type": "RPG.GameCore.TargetAlias",
                          "Alias": "ParamEntity"
                        },
                        "Team": "TeamLight"
                      }
                    ]
                  },
                  "SuccessTaskList": [
                    {
                      "$type": "RPG.GameCore.AddModifier",
                      "TargetType": {
                        "$type": "RPG.GameCore.TargetAlias",
                        "Alias": "ParamEntity"
                      },
                      "ModifierName": "MAvatar_FightFest_Main_Skill01_Charge_Sub"
                    }
                  ]
                }
              ]
            },
            {
              "Event": "OnEnterBattle",
              "Priority": -90,
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.SetDynamicValueByProperty",
                  "DynamicKey": "MDF_MaxSP",
                  "ReadTargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "ModifierOwnerEntity"
                  },
                  "Value": "MaxSP"
                },
                {
                  "$type": "RPG.GameCore.ModifySPNew",
                  "TargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "ModifierOwnerEntity"
                  },
                  "AddValue": {
                    "IsDynamic": true,
                    "PostfixExpr": {
                      "OpCodes": "AQABAQQK",
                      "FixedValues": [],
                      "DynamicHashes": [
                        -1657931065,
                        909827949
                      ]
                    }
                  }
                }
              ]
            }
          ],
          "DynamicValues": {
            "Values": {
              "-1657931065": {}
            }
          }
        },
        "MAvatar_FightFest_Main_Skill01_Charge_Sub": {
          "_CallbackList": [
            {
              "Event": "OnListenAllowAction",
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.PredicateTaskList",
                  "Predicate": {
                    "$type": "RPG.GameCore.ByTargetTeam",
                    "TargetType": {
                      "$type": "RPG.GameCore.TargetAlias",
                      "Alias": "ParamEntity"
                    },
                    "Team": "TeamLight"
                  },
                  "SuccessTaskList": [
                    {
                      "$type": "RPG.GameCore.SetDynamicValueByProperty",
                      "DynamicKey": "_CurrentSP",
                      "ReadTargetType": {
                        "$type": "RPG.GameCore.TargetAlias",
                        "Alias": "Caster"
                      },
                      "Value": "CurrentSP"
                    },
                    {
                      "$type": "RPG.GameCore.PredicateTaskList",
                      "Predicate": {
                        "$type": "RPG.GameCore.ByCompareDynamicValue",
                        "DynamicKey": "_CurrentSP",
                        "CompareType": "GreaterEqual",
                        "CompareValue": {
                          "IsDynamic": false,
                          "FixedValue": {
                            "Value": 100
                          }
                        }
                      },
                      "SuccessTaskList": [
                        {
                          "$type": "RPG.GameCore.TriggerCustomString",
                          "CustomString": {
                            "Value": "Tutorial_CoachChargeFinish"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "Event": "OnBeforeSkillUse",
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.ModifySPNew",
                  "TargetType": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "Caster"
                  },
                  "FixedAddValue": {
                    "IsDynamic": true,
                    "PostfixExpr": {
                      "OpCodes": "AQABAQQK",
                      "FixedValues": [],
                      "DynamicHashes": [
                        909827943,
                        -1284493821
                      ]
                    }
                  }
                }
              ]
            }
          ],
          "DynamicValues": {
            "Values": {
              "-978103959": {}
            }
          }
        },
        "MAvatar_FightFest_Main_Skill01_AutoUseUltraSkill": {
          "_CallbackList": [
            {
              "Event": "OnCreate",
              "CallbackConfig": [
                {
                  "$type": "RPG.GameCore.AutoUseUltraSkill",
                  "Target": {
                    "$type": "RPG.GameCore.TargetAlias",
                    "Alias": "AllLightTeam"
                  },
                  "WaitCutinFinished": false
                }
              ]
            }
          ]
        }
      },
      "Name": "Avatar_FightFest_Main_Skill01_PassiveSkill01",
      "TargetInfo": {
        "TargetType": "Caster"
      },
      "OnStart": [
        {
          "$type": "RPG.GameCore.ShowBattleEventButton",
          "IsShow": true
        },
        {
          "$type": "RPG.GameCore.AddModifier",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "Caster"
          },
          "ModifierName": "MAvatar_FightFest_Main_Skill01_PassiveAbility"
        },
        {
          "$type": "RPG.GameCore.AddModifier",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "Caster"
          },
          "ModifierName": "MAvatar_FightFest_Main_Skill01_Charge"
        },
        {
          "$type": "RPG.GameCore.AddModifier",
          "TargetType": {
            "$type": "RPG.GameCore.TargetAlias",
            "Alias": "Caster"
          },
          "ModifierName": "MAvatar_FightFest_Main_Skill01_AutoUseUltraSkill"
        }
      ]
    }
  ]
}